

drop table Comment;
drop table OrderLine;
drop table "Order";
drop table "Product";
drop table Customer;

create table Customer
(
	CustomerID int identity(1,1) not null primary key,
	CustomerName varchar(50) not null,
	Address1 varchar(50) not null,
	MemberYear int not null
);

create table [Order]
(
OrderID int identity(1,1) not null primary key,
Customer_CustomerID int references Customer(CustomerID),
OrderDate date not null,
OrderDescription varchar(100) not null

);

create table Product
(
ProductID int identity(1,1) not null primary key,
ProductName varchar(100) not null,
ProductDescription varchar(100) not null
);

create table OrderLine
(
Order_OrderID int references [Order](OrderID),
OrderLineID int identity(1,1) not null primary key,
Product_ProductID int not null references Product(ProductID),
Quantity int not null,
Price numeric(18,4) not null,
Amount numeric(18,4) not null,
Freebie_ProductID int references Product(ProductID)
);


create table Comment
(
OrderLine_OrderLineID int references OrderLine(OrderLineID),
CommentID int identity(1,1) not null primary key,
TheComment varchar(100) not null
);


insert into Customer(CustomerName,Address1,MemberYear) values
('Lennon','Makati',1940);

insert into [Order](Customer_CustomerID,OrderDescription,OrderDate) values
(1,'Hello','1976-11-05');


insert into Product(ProductName, ProductDescription) values
('Mouse','Mouse'),
('Keyboard','Keyboard');


insert into OrderLine(Order_OrderID, Product_ProductID, Quantity, Price, Amount,Freebie_ProductID) values
(1,1,7,6,42,2),
(1,2,2,3,6,null),
(1,1,5,10,50,null);

insert into Comment(OrderLine_OrderLineID, TheComment) values
(2,'Nice'),
(2,'Great');

-- this is just a test